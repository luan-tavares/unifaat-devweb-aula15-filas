import path from "path";

import createWorker from "./Core/QueueCore/createWorker.js";
import "./bootstrap/app.js";
import initRelations from "./config/sequelize_relations.js";
import resolveQueue from "./Core/QueueCore/resolveQueue.js";

(async function () {

    initRelations();

    const dir = path.join(CONSTANTS.DIR, 'app', 'Jobs');

    const worker = await createWorker(dir);

    const queue = resolveQueue();

    await worker.listen(queue);

})();
